(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(setTimeout((()=>{!function(){const e=document.querySelectorAll(".servise-session__item"),t=document.querySelector(".servise-session__decor-img");e.length>0&&t&&(e.forEach(((e,t)=>{const o=e.querySelector(".servise-session__img"),n=e.querySelector(".servise-session__block");setTimeout((()=>{o.classList.add("show")}),300*t),setTimeout((()=>{n.classList.add("show")}),300*t+300)})),setTimeout((()=>{t.classList.add("show")}),300*e.length+200))}()}),100),e.disconnect())}))}),{threshold:.1}),t=document.querySelector(".session__servise");!function(e,t,o,n,s){const c=document.querySelectorAll(t),i=()=>{c.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("visible")}),t*n)}))},r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(setTimeout(i,o),r.disconnect())}))}),{threshold:s}),l=document.querySelector(e);r.observe(l)}(".session__solution",".solution__item",500,200,.1),setTimeout((()=>{e.observe(t)}),500+300*document.querySelectorAll(".solution__item").length+200)}));const e=document.querySelectorAll("._anim-items");if(e.length>0){window.addEventListener("scroll",o);let t=300;function o(){for(let o=0;o<e.length;o++){const s=e[o],c=s.offsetHeight,i=n(s).top,r=200;let l=window.innerHeight-c/r;c>window.innerHeight&&(window.innerHeight,window.innerHeight),pageYOffset>i-l&&pageYOffset<i+c?s.classList.contains("_active")||setTimeout((()=>{s.classList.add("_active")}),o*t):s.classList.contains("_anim-no-hide")||s.classList.remove("_active")}}function n(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}o()}if(document.querySelector(".swiper")){function s(){const e=document.querySelector(".plane__btn"),t=document.querySelector(".plane__bottom-items");e.addEventListener("click",(()=>{t.classList.toggle("active")}))}function c(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".fairway__row"),t=document.querySelector(".fairway__row-back"),o=e.offsetHeight,n=d(e).top;let s=window.innerHeight-o/4;scrollY>n-s&&scrollY<n+o&&(t.style.animation="fairway 2.2s forwards")}))}function i(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".mentors__line"),t=document.querySelector(".mentors__line-bg-2"),o=e.offsetHeight,n=d(e).top;let s=window.innerHeight-o/4;scrollY>n-s&&scrollY<n+o&&t.classList.add("active")}))}function r(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".choice__items"),t=document.querySelector(".ci-1"),o=document.querySelector(".ci-2"),n=document.querySelector(".ci-3"),s=e.offsetHeight,c=d(e).top;let i=window.innerHeight-s/4;scrollY>c-i&&scrollY<c+s&&(t.style.animation="ci-1 0.5s forwards",o.style.animation="ci-2 0.5s forwards",o.style.animationDelay="0.5s",n.style.animation="ci-3 0.5s forwards",n.style.animationDelay="1s")}))}function l(){const e=navigator.userAgent.toLowerCase(),t=/firefox/.test(e),o=document.querySelector(".fairway__link");t&&(o.style.marginTop="-7px")}function a(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}function d(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}new Swiper(".swiper",{speed:400,spaceBetween:50,slidesPerView:1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),s(),c(),i(),r(),document.querySelectorAll(".swiper-item__text").forEach((e=>{e.textContent.length>709?e.textContent=e.textContent.slice(0,709)+"...":e.textContent=e.textContent})),l(),a(),document.getElementById("mentors-igor").addEventListener("click",(()=>{localStorage.setItem("mentor","igor")}))}!function(){const e=new JustValidate(".modal-request__form"),t=new Inputmask("+7 (999) 999-99-99"),o=document.querySelector(".modal-request__phone");t.mask(o),e.addField(".modal-request__name",[{rule:"minLength",value:2},{rule:"maxLength",value:50},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField(".modal-request__phone",[{rule:"required",value:!0,errorMessage:"Введите телефон"}]).onSuccess((e=>{let t=new FormData(e.target),o=new XMLHttpRequest;console.log(...t),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&console.log("отправлено")},$.fancybox.close("fancybox-content"),$.fancybox.open({src:"#modal-thanks",type:"inline"}),o.open("POST","mail.php",!0),o.send(t),e.target.reset()}))}(),function(){const e=document.querySelector(".modal-request__btn"),t=document.querySelector(".modal-request__name"),o=document.querySelector(".modal-request__phone");function n(){t.value.length>1&&o.value.length>1?e.classList.add("active"):e.classList.remove("active")}t.addEventListener("input",(e=>{n()})),o.addEventListener("input",(e=>{n()}))}(),function(){const e=document.querySelector(".body-mentors"),t=localStorage.getItem("mentor");e&&t&&($(document).ready((function(){$("html, body").animate({scrollTop:$("#igor").offset().top-160},"slow")})),localStorage.clear())}(),function(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}()})();