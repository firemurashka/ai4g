(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(setTimeout((()=>{!function(){const e=document.querySelectorAll(".servise-session__item"),t=document.querySelector(".servise-session__decor-img");e.length>0&&t&&(e.forEach(((e,t)=>{const o=e.querySelector(".servise-session__img"),n=e.querySelector(".servise-session__block");setTimeout((()=>{o.classList.add("show")}),300*t),setTimeout((()=>{n.classList.add("show")}),300*t+300)})),setTimeout((()=>{t.classList.add("show")}),300*e.length+200))}()}),100),e.disconnect())}))}),{threshold:.1}),t=document.querySelector(".session__servise");!function(e,t,o,n,s){const a=document.querySelectorAll(t),r=()=>{a.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("visible")}),t*n)}))},l=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(setTimeout(r,o),l.disconnect())}))}),{threshold:s}),c=document.querySelector(e);l.observe(c)}(".session__solution",".solution__item",500,200,.1),setTimeout((()=>{e.observe(t)}),500+300*document.querySelectorAll(".solution__item").length+200)}));const e=document.querySelectorAll("._anim-items");if(e.length>0){window.addEventListener("scroll",s);let n=500;function s(){for(let t=0;t<e.length;t++){const o=e[t],s=o.offsetHeight,r=a(o).top,l=4;let c=window.innerHeight-s/l;if(s>window.innerHeight){window.innerHeight,window.innerHeight}pageYOffset>r-c&&pageYOffset<r+s?o.classList.contains("_active")||setTimeout((()=>{o.classList.add("_active")}),t*n):o.classList.contains("_anim-no-hide")||o.classList.remove("_active")}}function a(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}s()}if(document.querySelector(".swiper")){function r(){const e=document.querySelector(".plane__btn"),t=document.querySelector(".plane__bottom-items");e.addEventListener("click",(()=>{t.classList.toggle("active")}))}function l(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".fairway__row"),t=document.querySelector(".fairway__row-back"),o=e.offsetHeight,n=m(e).top;let s=window.innerHeight-o/4;scrollY>n-s&&scrollY<n+o&&(t.style.animation="fairway 2.2s forwards")}))}function c(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".mentors__line"),t=document.querySelector(".mentors__line-bg-2"),o=e.offsetHeight,n=m(e).top;let s=window.innerHeight-o/4;scrollY>n-s&&scrollY<n+o&&t.classList.add("active")}))}function i(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".choice__items"),t=document.querySelector(".ci-1"),o=document.querySelector(".ci-2"),n=document.querySelector(".ci-3"),s=e.offsetHeight,a=m(e).top;let r=window.innerHeight-s/4;scrollY>a-r&&scrollY<a+s&&(t.style.animation="ci-1 0.5s forwards",o.style.animation="ci-2 0.5s forwards",o.style.animationDelay="0.5s",n.style.animation="ci-3 0.5s forwards",n.style.animationDelay="1s")}))}function d(){const e=navigator.userAgent.toLowerCase(),t=/firefox/.test(e),o=document.querySelector(".fairway__link");t&&(o.style.marginTop="-7px")}function u(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}new Swiper(".swiper",{speed:400,spaceBetween:50,slidesPerView:1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function m(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}r(),l(),c(),i(),document.querySelectorAll(".swiper-item__text").forEach((e=>{e.textContent.length>709?e.textContent=e.textContent.slice(0,709)+"...":e.textContent=e.textContent})),d(),u(),document.getElementById("mentors-igor").addEventListener("click",(()=>{localStorage.setItem("mentor","igor")}))}!function(){const e=new JustValidate(".modal-request__form"),t=new Inputmask("+7 (999) 999-99-99"),o=document.querySelector(".modal-request__phone");t.mask(o),e.addField(".modal-request__name",[{rule:"minLength",value:2},{rule:"maxLength",value:50},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField(".modal-request__phone",[{rule:"required",value:!0,errorMessage:"Введите телефон"}]).onSuccess((e=>{let t=new FormData(e.target),o=new XMLHttpRequest;console.log(...t),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&console.log("отправлено")},$.fancybox.close("fancybox-content"),$.fancybox.open({src:"#modal-thanks",type:"inline"}),o.open("POST","mail.php",!0),o.send(t),e.target.reset()}))}(),function(){const e=document.querySelector(".modal-request__btn"),t=document.querySelector(".modal-request__name"),o=document.querySelector(".modal-request__phone");function n(){t.value.length>1&&o.value.length>1?e.classList.add("active"):e.classList.remove("active")}t.addEventListener("input",(e=>{n()})),o.addEventListener("input",(e=>{n()}))}(),function(){const e=document.querySelector(".body-mentors"),t=localStorage.getItem("mentor");e&&t&&($(document).ready((function(){$("html, body").animate({scrollTop:$("#igor").offset().top-160},"slow")})),localStorage.clear())}(),function(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}(),document.addEventListener("DOMContentLoaded",(function(){new JustValidate(".modal-oplata__form").addField(".modal-oplata__name",[{rule:"minLength",value:2},{rule:"maxLength",value:50},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField(".modal-oplata__email",[{rule:"required",value:!0,errorMessage:"Введите электронную почту"},{rule:"email",value:!0,errorMessage:"Введите действующий электронный адрес"}]).onSuccess((e=>{let t=new FormData(e.target),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(console.log("отправлено"),function(e){$.fancybox.close();const t=document.querySelector(".hidden-name"),o=document.querySelector(".hidden-email");t.value=e.get("Имя"),o.value=e.get("email"),$.fancybox.open({src:"#modal-pay",type:"inline"})}(t))},o.open("POST","oplata.php",!0),o.send(t),e.target.reset()})),new JustValidate(".modal-pay__form").addField('input[name="payment_method"]',[{rule:"required",value:!0,errorMessage:"Выберите метод оплаты"}]).onSuccess((e=>{let t=new FormData(e.target),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(console.log("оплата отправлена"),$.fancybox.close(),$.fancybox.open({src:"#file-sent",type:"inline"}))},o.open("POST","pay.php",!0),o.send(t),e.target.reset()})),function(){const e=document.querySelector(".modal-oplata__btn"),t=document.querySelector(".modal-oplata__name"),o=document.querySelector(".modal-oplata__email");function n(){const n=t.value.length>1&&o.value.length>1;e.classList.toggle("active",n)}t.addEventListener("input",n),o.addEventListener("input",n)}(),function(){const e=document.querySelector(".modal-pay__btn");function t(){const t=document.querySelector('input[name="payment_method"]:checked');e.classList.toggle("active",!!t)}document.querySelectorAll('input[name="payment_method"]').forEach((e=>{e.addEventListener("change",t)}))}()})),importScripts("https://storage.googleapis.com/workbox-cdn/releases/5.1.2/workbox-sw.js");const t="pwabuilder-page",o="offline.html";self.addEventListener("message",(e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()})),self.addEventListener("install",(async e=>{e.waitUntil(caches.open(t).then((e=>e.add(o))))})),workbox.navigationPreload.isSupported()&&workbox.navigationPreload.enable(),self.addEventListener("fetch",(e=>{"navigate"===e.request.mode&&e.respondWith((async()=>{try{const t=await e.preloadResponse;if(t)return t;return await fetch(e.request)}catch(e){const n=await caches.open(t);return await n.match(o)}})())}))})();